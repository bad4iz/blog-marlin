os:
- linux
matrix:
  include:
  - language: php
    php: '7.2'
    before_script:
    - composer self-update
    - composer install --no-interaction
    - cp .env.travis .env
    - pear install pear/PHP_CodeSniffer
    - phpenv rehash
    script:
    - vendor/bin/phpunit --coverage-text
  - language: node_js
    node_js: '8'
    before_script:
    - yarn
    script:
    - yarn run lint
    - yarn run production
deploy:
  provider: heroku
  api_key:
    secure: fLz71HbboTFb3wKmbed1eFBbgb4jzFqrD2CirPXotFVlnfOqvaWzF8o9eWFtcdWUcSAbiWS78ufm8G3cz7RAMukJiREeAZfMM6L7fqq9mhR0ciV2B5bFM5q6k4JpZOwOhPUs1ZtBAlimgwOuRsASoFZYPo+BMfHfquzGicu6v7eUTFMZz6JktufAh0a8bYVn7Rp7nMNHJJU7Nr2cgzdBe3D7Mjk9fFXw5aPVWGbXrm95T+UFACZHgbmyJTLS6xQ9k2T8gyEhL0NX1uqrfgPpWxNpkr/OvYf8RBKvgYlPb5uOfxZupPgN40o35o4nlAtNeRaVnTBlSzf6LFZHqrAxcyCLI5VM6WwJuLoLJ9U/deq7/lRlyhHKy2R0Jc8g0HDC6hxGSPx5EohsxGlGjv+5pG6hWYYH7JjXbLcKV2ivuM3Tyk4Y2khydCo85JAM3vegsP/wTt47XZ9bFJVuNTQsY4XupSp10WZB8j1u4hEs37sAUM6YgAh7flpKXBGCYv0QHWh3mAIRwUwbo8g0uRIE7vqHJSb+qV0Ch0ClNFkHF0QHvnb+HxkxTv80MEnqAzysI3RAhXjqq7bUBfgaQHyFarkzFBBpga89gxow1Fjmjw1h2qN82gG2SpGFm98xAvb94AzL1ftkG7UCrm9L9ASWmTIy0FU2DnaU1UVps5JoMn8=
  app: blog-marlin
  on:
    repo: bad4iz/blog-marlin
